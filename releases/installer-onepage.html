<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Install TrueTrend Universal (v4.3.3.5) – Thank You</title>
  <meta name="description" content="Thank you for your purchase. Download the TrueTrend Universal extension and follow the quick install steps." />
  <meta name="theme-color" content="#16a34a" />
  <style>
    :root{
      --brand:#16a34a;    /* emerald-600 */
      --brand-700:#15803d;/* emerald-700 */
      --ink:#1f2937;      /* gray-800 */
      --muted:#6b7280;    /* gray-500 */
      --bg:#0a0f13;       /* near-black */
      --card:#0f1620;     /* dark card */
      --border:#1f2a37;   /* dark border */
      --ok:#16a34a;
      --err:#dc2626;      /* red-600 */
      --ok-bg:rgba(22,163,74,.1);
      --err-bg:rgba(220,38,38,.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:#e5e7eb;
      background:linear-gradient(180deg,#0a0f13 0%, #0b1118 100%);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .wrap{max-width:980px;margin:32px auto;padding:0 20px}
    .hero{
      background:radial-gradient(1200px 600px at 20% -20%, rgba(22,163,74,.08), transparent),
                 radial-gradient(1200px 600px at 120% 0%, rgba(59,130,246,.07), transparent),
                 var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      padding:28px 28px 8px 28px;
      box-shadow:0 12px 50px rgba(0,0,0,.35);
    }
    .badge{
      display:inline-flex;align-items:center;gap:10px;
      background:rgba(22,163,74,.12); color:#c7f9d4;
      padding:8px 14px; border:1px solid rgba(22,163,74,.35); border-radius:999px;
      font-weight:650; letter-spacing:.2px;
    }
    .brand{
      display:flex; align-items:center; gap:14px; margin:6px 0 18px;
      color:#c7f9d4; font-weight:650;
    }
    .brand .logo{
      width:42px;height:42px;border-radius:12px;display:grid;place-items:center;
      background:radial-gradient(120% 120% at 0% 0%, #16a34a 0%, #0d5a2f 100%);
      border:1px solid rgba(255,255,255,.18);
      box-shadow:inset 0 0 18px rgba(255,255,255,.18);
      font-weight:800;color:rgba(255,255,255,.95)
    }
    h1{
      margin:0 0 8px;font-size:clamp(26px,3.4vw,36px); line-height:1.2;
      color:#fff; letter-spacing:.2px;
    }
    .muted{color:#a7b0b8}
    .card{
      margin-top:18px; background:var(--card); border:1px solid var(--border);
      border-radius:16px; padding:22px 22px 12px;
    }
    .actions{display:flex; flex-wrap:wrap; gap:14px; align-items:center; margin-top:14px}
    .btn{
      -webkit-appearance:none; appearance:none; cursor:pointer; user-select:none;
      display:inline-flex; align-items:center; gap:10px;
      padding:15px 22px; border-radius:12px; border:1px solid rgba(255,255,255,.12);
      background:linear-gradient(180deg,var(--brand) 0%, var(--brand-700) 100%);
      color:#fff; font-weight:700; letter-spacing:.3px; text-decoration:none; box-shadow:0 10px 24px rgba(22,163,74,.27);
      transition:transform .08s ease, box-shadow .2s ease, filter .2s ease;
    }
    .btn:hover{transform:translateY(-1px); filter:brightness(1.02)}
    .btn:active{transform:translateY(0)}
    .btn-secondary{
      background:transparent; color:#e5e7eb; border:1px dashed rgba(229,231,235,.28);
      box-shadow:none;
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px; padding:6px 10px;
      border-radius:999px; font-size:13px; border:1px solid rgba(229,231,235,.12);
      background:rgba(255,255,255,.04); color:#e5e7eb
    }
    .ok{color:#22c55e; background:var(--ok-bg); border-color:rgba(34,197,94,.35)}
    .err{color:#f87171; background:var(--err-bg); border-color:rgba(248,113,113,.28)}
    ul.steps{margin:18px 0 6px 20px}
    .steps li{margin:8px 0}
    .tiny{font-size:13px; color:#9aa3aa}
    .center{display:flex; align-items:center; gap:10px}
    .mt8{margin-top:8px}
    .mt14{margin-top:14px}
    .mt18{margin-top:18px}
    .hide{display:none!important}
    code,kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace; background:#0b1320; color:#d1e7ff; border:1px solid rgba(255,255,255,.08); padding:2px 6px; border-radius:6px}
    footer{margin:26px 0; color:#93a0a8}
    a{color:#93c5fd}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <div class="badge">Thanks for your purchase <span>✔</span></div>
      <div class="brand"><div class="logo">TT</div><div>TrueTrend Trading</div></div>
      <h1>Install TrueTrend Universal <span class="muted">(v4.3.3.5)</span></h1>
      <p class="muted">Your download will begin automatically. If it doesn’t, use the button below.</p>

      <div class="card">
        <h3 style="margin:0 0 8px">Direct Download</h3>
        <div class="actions">
          <a id="downloadBtn" class="btn" href="#" download>
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M12 3v12m0 0l4-4m-4 4l-4-4M5 21h14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Download Chrome Extension (.zip)</span>
          </a>
          <span id="statusSpinner" class="pill">Preparing download…</span>
          <span id="statusOk" class="pill ok hide">Download ready</span>
          <span id="statusErr" class="pill err hide">File not found in this deployment</span>
        </div>
        <p class="tiny mt8">If the download is blocked, right-click the button and choose <strong>“Save link as…”</strong></p>
      </div>

      <div class="card mt18">
        <h3 style="margin:0 0 8px">Quick Install (Chrome / Edge / Brave)</h3>
        <ul class="steps">
          <li>Click <em>Download</em> above to get the ZIP.</li>
          <li>Unzip the file on your computer.</li>
          <li>Open <code>chrome://extensions/</code> (or <code>edge://extensions/</code>).</li>
          <li>Enable <strong>Developer mode</strong> (top-right toggle).</li>
          <li>Click <strong>Load unpacked</strong> and select the extracted extension folder.</li>
        </ul>
        <div class="center tiny mt14">
          <span>Need help?</span>
          <a href="mailto:support@trytruetrend.com">support@trytruetrend.com</a>
        </div>
      </div>

      <footer class="tiny">© <span id="y"></span> TrueTrend Trading. All rights reserved.</footer>
    </div>
  </div>

  <script>
    // --- Configuration --------------------------------------------------------
    // Expected path for the ZIP in your repo (adjust if you rename the file):
    const ZIP_PATH = '/releases/TrueTrend_Chrome_Extension.zip';
    // You can override via ?zip=/releases/YourFile.zip (handy for testing)
    // -------------------------------------------------------------------------

    const qs = new URLSearchParams(location.search);
    const zip = qs.get('zip') || ZIP_PATH;

    const btn = document.getElementById('downloadBtn');
    const sSpin = document.getElementById('statusSpinner');
    const sOk   = document.getElementById('statusOk');
    const sErr  = document.getElementById('statusErr');

    const year = document.getElementById('y');
    if (year) year.textContent = new Date().getFullYear();

    // Point the button at the ZIP
    btn.href = zip;

    // Try to HEAD the file to confirm it exists, then auto-download it.
    async function prepareAndDownload() {
      try {
        const r = await fetch(zip, { method:'HEAD', cache:'no-store' });
        if (r.ok) {
          sSpin.classList.add('hide');
          sOk.classList.remove('hide');

          // small delay for UX then auto-download
          setTimeout(() => {
            try {
              // Programmatic click on a real <a download>
              btn.click();
            } catch (e) {
              /* fallback is the visible button */
            }
          }, 500);
        } else {
          throw new Error('Not OK');
        }
      } catch (e) {
        sSpin.classList.add('hide');
        sErr.classList.remove('hide');
      }
    }

    // Kick it off
    prepareAndDownload();
  </script>
</body>
</html>
